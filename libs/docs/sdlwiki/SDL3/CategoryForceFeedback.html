<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>CategoryForceFeedback</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
</head>
<body>
<nav id="TOC">
<ul>
<li><a href="#force-feedback-support">Force Feedback Support</a><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#code-examples">Code Examples</a></li>
<li><a href="#structures">Structures</a></li>
<li><a href="#functions">Functions</a></li>
</ul></li>
</ul>
</nav>
<h1 id="force-feedback-support">Force Feedback Support</h1>
<p>'''Include File(s):''' [<a href="http://hg.libsdl.org/SDL/file/default/include/SDL_haptic.h.html" class="uri">http://hg.libsdl.org/SDL/file/default/include/SDL_haptic.h</a> SDL_haptic.h]</p>
<h2 id="introduction">Introduction</h2>
<p>The SDL haptic subsystem allows you to control haptic (force feedback) devices.</p>
<p>The basic usage is as follows:</p>
<ol>
<li>Initialize the subsystem (SDL_INIT_HAPTIC)</li>
<li>Open a haptic device</li>
</ol>
<p>a. <a href=".html">[SDL_HapticOpen]</a> to open from index</p>
<p>a. <a href=".html">[SDL_HapticOpenFromJoystick]</a> to open from an existing joystick</p>
<ol>
<li>Create an effect ([[SDL_HapticEffect]])</li>
<li>Upload the effect with <a href=".html">[SDL_HapticNewEffect]</a></li>
<li>Run the effect with <a href=".html">[SDL_HapticRunEffect]</a></li>
<li>(optional) Free the effect with <a href=".html">[SDL_HapticDestroyEffect]</a></li>
<li>Close the haptic device with <a href=".html">[SDL_HapticClose]</a></li>
</ol>
<h2 id="code-examples">Code Examples</h2>
<p>Simple rumble example: <syntaxhighlight lang='c++'> SDL_Haptic *haptic;</p>
<p>// Open the device haptic = SDL_HapticOpen( 0 ); if (haptic == NULL) return -1;</p>
<p>// Initialize simple rumble if (SDL_HapticRumbleInit( haptic ) != 0) return -1;</p>
<p>// Play effect at 50% strength for 2 seconds if (SDL_HapticRumblePlay( haptic, 0.5, 2000 ) != 0) return -1; SDL_Delay( 2000 );</p>
<p>// Clean up SDL_HapticClose( haptic ); </syntaxhighlight></p>
<p>Complete example: <syntaxhighlight lang='c++'> int test_haptic( SDL_Joystick * joystick ) { SDL_Haptic *haptic; SDL_HapticEffect effect; int effect_id;</p>
<p>// Open the device haptic = SDL_HapticOpenFromJoystick( joystick ); if (haptic == NULL) return -1; // Most likely joystick isn't haptic</p>
<p>// See if it can do sine waves if ((SDL_HapticQuery(haptic) &amp; SDL_HAPTIC_SINE)==0) { SDL_HapticClose(haptic); // No sine effect return -1; }</p>
<p>// Create the effect SDL_memset( &amp;effect, 0, sizeof(SDL_HapticEffect) ); // 0 is safe default effect.type = SDL_HAPTIC_SINE; effect.periodic.direction.type = SDL_HAPTIC_POLAR; // Polar coordinates effect.periodic.direction.dir[0] = 18000; // Force comes from south effect.periodic.period = 1000; // 1000 ms effect.periodic.magnitude = 20000; // 20000/32767 strength effect.periodic.length = 5000; // 5 seconds long effect.periodic.attack_length = 1000; // Takes 1 second to get max strength effect.periodic.fade_length = 1000; // Takes 1 second to fade away</p>
<p>// Upload the effect effect_id = SDL_HapticNewEffect( haptic, &amp;effect );</p>
<p>// Test the effect SDL_HapticRunEffect( haptic, effect_id, 1 ); SDL_Delay( 5000); // Wait for the effect to finish</p>
<p>// We destroy the effect, although closing the device also does this SDL_HapticDestroyEffect( haptic, effect_id );</p>
<p>// Close the device SDL_HapticClose(haptic);</p>
<p>return 0; // Success } </syntaxhighlight> You can find more information in this blog by Edgar Simo Serra: <a href="%5Bhttps://web.archive.org/web/20130728040700/http://bobbens.dyndns.org/journal/2010/sdl_haptic/%20Archive%5D.html">http://bobbens.dyndns.org/journal/2010/sdl_haptic/ SDL Haptic In Depth</a></p>
<!-- #Remove this line and the ## below to use this markup if it becomes relevant to this category -->
<!-- #== Enumerations == -->
<!-- #<<FullSearchCached(category:CategoryEnum Category##### -title:SGEnumerations)>> -->
<h2 id="structures">Structures</h2>
<p>&lt;&lt;FullSearchCached(category:CategoryStruct CategoryForceFeedback -title:SGStructures)&gt;&gt;</p>
<h2 id="functions">Functions</h2>
<p>&lt;&lt;FullSearchCached(category:CategoryForceFeedback -CategoryEnum -CategoryStruct -title:SGFunctions)&gt;&gt;</p>
<!-- BEGIN CATEGORY LIST -->
<ul>
<li><a href="SDL_HapticClose.html">SDL_HapticClose</a></li>
<li><a href="SDL_HapticCondition.html">SDL_HapticCondition</a></li>
<li><a href="SDL_HapticConstant.html">SDL_HapticConstant</a></li>
<li><a href="SDL_HapticCustom.html">SDL_HapticCustom</a></li>
<li><a href="SDL_HapticDestroyEffect.html">SDL_HapticDestroyEffect</a></li>
<li><a href="SDL_HapticDirection.html">SDL_HapticDirection</a></li>
<li><a href="SDL_HapticEffect.html">SDL_HapticEffect</a></li>
<li><a href="SDL_HapticEffectSupported.html">SDL_HapticEffectSupported</a></li>
<li><a href="SDL_HapticGetEffectStatus.html">SDL_HapticGetEffectStatus</a></li>
<li><a href="SDL_HapticIndex.html">SDL_HapticIndex</a></li>
<li><a href="SDL_HapticLeftRight.html">SDL_HapticLeftRight</a></li>
<li><a href="SDL_HapticName.html">SDL_HapticName</a></li>
<li><a href="SDL_HapticNewEffect.html">SDL_HapticNewEffect</a></li>
<li><a href="SDL_HapticNumAxes.html">SDL_HapticNumAxes</a></li>
<li><a href="SDL_HapticNumEffects.html">SDL_HapticNumEffects</a></li>
<li><a href="SDL_HapticNumEffectsPlaying.html">SDL_HapticNumEffectsPlaying</a></li>
<li><a href="SDL_HapticOpen.html">SDL_HapticOpen</a></li>
<li><a href="SDL_HapticOpened.html">SDL_HapticOpened</a></li>
<li><a href="SDL_HapticOpenFromJoystick.html">SDL_HapticOpenFromJoystick</a></li>
<li><a href="SDL_HapticOpenFromMouse.html">SDL_HapticOpenFromMouse</a></li>
<li><a href="SDL_HapticPause.html">SDL_HapticPause</a></li>
<li><a href="SDL_HapticPeriodic.html">SDL_HapticPeriodic</a></li>
<li><a href="SDL_HapticQuery.html">SDL_HapticQuery</a></li>
<li><a href="SDL_HapticRamp.html">SDL_HapticRamp</a></li>
<li><a href="SDL_HapticRumbleInit.html">SDL_HapticRumbleInit</a></li>
<li><a href="SDL_HapticRumblePlay.html">SDL_HapticRumblePlay</a></li>
<li><a href="SDL_HapticRumbleStop.html">SDL_HapticRumbleStop</a></li>
<li><a href="SDL_HapticRumbleSupported.html">SDL_HapticRumbleSupported</a></li>
<li><a href="SDL_HapticRunEffect.html">SDL_HapticRunEffect</a></li>
<li><a href="SDL_HapticSetAutocenter.html">SDL_HapticSetAutocenter</a></li>
<li><a href="SDL_HapticSetGain.html">SDL_HapticSetGain</a></li>
<li><a href="SDL_HapticStopAll.html">SDL_HapticStopAll</a></li>
<li><a href="SDL_HapticStopEffect.html">SDL_HapticStopEffect</a></li>
<li><a href="SDL_HapticUnpause.html">SDL_HapticUnpause</a></li>
<li><a href="SDL_HapticUpdateEffect.html">SDL_HapticUpdateEffect</a></li>
<li><a href="SDL_JoystickIsHaptic.html">SDL_JoystickIsHaptic</a></li>
<li><a href="SDL_MouseIsHaptic.html">SDL_MouseIsHaptic</a></li>
<li><a href="SDL_NumHaptics.html">SDL_NumHaptics</a> <!-- END CATEGORY LIST --> ---- CategoryCategory</li>
</ul>
</body>
</html>
